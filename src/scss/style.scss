@tailwind base;
@tailwind components;
@tailwind utilities;

@import "./property";
@import "./mixin";

@import "./base";
@import "./animation";

@charset "utf-8";

.logo:hover {
  /* filter: drop-shadow(0 0 2em #646cffaa); */
}
.logo.react:hover {
  /* filter: drop-shadow(0 0 2em #61dafbaa); */
}

body {
  // background-color: $base;
}
#root {
  opacity: 0;
  will-change: opacity;
  transition: opacity .5s ease;
  &.loaded {
    opacity: 1;
  }
  .parallax {
    display: block;
    position: relative;
  }
  .en {
  }
  .zen-old-mincho-regular {
    font-family: "Zen Old Mincho", serif;
    font-weight: 400;
    font-style: normal;
  }

  .zen-old-mincho-medium {
    font-family: "Zen Old Mincho", serif;
    font-weight: 500;
    font-style: normal;
  }
  
  .zen-old-mincho-semibold {
    font-family: "Zen Old Mincho", serif;
    font-weight: 600;
    font-style: normal;
  }
  
  .zen-old-mincho-bold {
    font-family: "Zen Old Mincho", serif;
    font-weight: 700;
    font-style: normal;
  }

  .ivyora-display {
    font-family: "ivyora-display", serif;
    font-weight: 500;
    font-style: normal;
  }

  .dnp-shuei-gothic-gin-std {
    font-family: dnp-shuei-gothic-gin-std, sans-serif;
  }
  
}

@media screen and (max-width: 749px) {
  body {
    background-color: $lightPink;
  }
  #root {
    $intro: 3;
    $delay: 2;
    &.loaded {
      .copyright.absolute {
        opacity: 0;
        visibility: hidden;
        will-change: opacity;
        transition: opacity 1s $Power1easeOut ($delay + 5 + 1 + s), visibility 0s $Power1easeOut ($delay + 5 + 1 + 1 + s);
      }
      main section#teaser {
        .news-icon {
        }
        .wrapper {
          &-poster {
            opacity: 1;
          }
          &-poster {
            img {
              filter: blur(0);
            }
          }
        }
      }
      .intro {
        opacity: 0;
        visibility: hidden;
        background-color: $lightPink;
        z-index: 100;
        &__inner {
          opacity: 0;
          .line {
            clip-path: polygon(0 0, 100% 0, 100% 100%, 0% 100%);
            .visible {
              filter: blur(0);
              opacity: 1;
            }
          }
        }
      }
    }
    .fade-in {
      will-change: opacity, transform;
      opacity: 0;
      transform: translate3d(0, vw(10), 0);
      transition: transform 1s $Power3easeOut, opacity 1s $Power1easeOut;
      &.active {
        opacity: 1;
        transform: translate3d(0, 0, 0);
      }
    }
    .intro {
      @include fitcenter();
      will-change: background-color, opacity;
      transition: background-color ($intro + s) $Power1easeOut, opacity 1s $Power1easeOut ($delay + 5 + 1 + s), visibility 0s $Power1easeOut ($delay + 5 + 1 + 1 + s);
      &__inner {
        will-change: opacity;
        transition: opacity 1.5s $Power1easeOut ($delay + 3 + 1.5 + s);
        .line {
          top: rem(-20);
          padding: rem(20);
          display: inline-block;
          width: rem(60);
          margin-right: vw(-20.533333333333335);
          clip-path: polygon(0 0, 100% 0, 100% 0, 0 0);
          will-change: clip-path, filter;
          $clipDelay: 1.5;
          &:nth-child(1) {
            transition: clip-path (((367 / 175)-1) + s) $Power1easeOut ($delay + s);
            .visible {
              transition: filter (((367 / 175)-1) + .5 + s) $Power1easeOut ($delay + s);
            }
          }
          &:nth-child(2) {
            transition: clip-path ($clipDelay + s) $Power1easeOut ($delay + ((367 / 175)-1) + .1 + s);
            .visible {
              transition: filter ($clipDelay + .5 + s) $Power1easeOut ($delay + ((367 / 175)-1) + .1 + s);
            }
          }
          &:first-child {
            margin-right: 0;
          }
        }
        .visible {
          padding: rem(20);
          opacity: 0;
          filter: blur(rem(5));
        }
        img {
          width: vw(28);
          max-width: initial;
        }
      }
    }
    .modal {
      background: rgb(255, 245, 238);      
      opacity: 0;
      visibility: hidden;
      will-change: opacity;
      transition: opacity 1s $Power1easeOut .3s, visibility 0s 1.3s;
      z-index: 100;
      &.active {
        opacity: 1;
        visibility: visible;
        transition: opacity 1s $Power1easeOut, visibility 0s 0s;
        .modal__inner {
          .video {
            opacity: 1;
            transition: opacity 1s $Power1easeOut .3s;
          }
          .modal-close {
            opacity: 1;;
            transition: background-color .5s $Power1easeOut, opacity .5s $Power1easeOut 1s;
          }
        }
      }
      &::before {
        @include center();
        content: '';
        background-color: rgba(255, 255, 255, .2);
      }
      &__inner {
        @include fitcenter();
        z-index: 1;
        .video {
          height: vw(221);
          width: 100vw;
          opacity: 0;
          will-change: opacity;
          transition: opacity 1s $Power1easeOut;
          iframe {
            height: 100%;
            width: 100%;
          }
        }
      }
      &-close {
        @include fitcenter();
        opacity: 0;
        left: 50%;
        bottom: vw(48);
        transform: translate3d(-50%, 0, 0);
        height: vw(64);
        width: vw(64);
        border-radius: 100%;
        background-color: $pink;
        will-change: background-color, opacity;
        transition: background-color .5s $Power1easeOut, opacity .5s $Power1easeOut;
        &:active {
          background-color: $light;
          svg * {
            stroke: $pink;
          }
        }
        svg {
          width: vw(24);
          * {
            will-change: stroke;
            transition: stroke .5s $Power1easeOut;
          } 
        }
      }
    }
    .section {
      &__inner {
        // width: calc( 1220 / 1440 * 100%);
        // max-width: rem(1220);
      }
    }
    .copyright {
      @include fontvw(10);
      z-index: 100;
      &.absolute {
        bottom: vw(24);
      }
    }
    .shochiku-footer {
      // right: rem(48);
      margin: vw(20) auto vw(20);
      @include fontvw(10);
      ul {
        li {
          &::after {
            margin: 0 vw(20);
            content: '|';
          }
          &:last-child {
            &::after {
              display: none;
            }
          }
          a {
            text-decoration: underline;
          }
        }
      }
    }
    main {
      section {
        &#teaser {
          .news-icon {
            margin: 0 auto vw(67);
            height: vw(120);
            width: vw(120);
            transform: scale(0);
            will-change: transform;
            // transition: transform .5s $easeInOutBack ($delay + 5 + 1 + .5 + + 1 + s);
            &.active {
              animation: icon .7s ease forwards;
            }
          }
          .news {
            @include fitcenter();
            height: 100%;
            width: 100%;
            border-radius: 100%;
            box-shadow: 0 vw(5) vw(10) 0 rgba(0, 0, 0, 0.2);
            will-change: box-shadow, transform;
            transition: box-shadow .5s $Power1easeOut, transform .5s $Power3easeOut;
            &:active {
              transform: scale(calc(126/120 * 100%));
              box-shadow: 0 0 0 0 rgba(0, 0, 0, 0);
            }
            &::before {
              @include center();
              height: 100%;
              width: 100%;
              border-radius: 100%;
              content: '';
              background: linear-gradient(to bottom, rgba(33, 87, 161, .4), rgba(139, 173, 213,.4), rgba(202, 81, 158,.4));
              // opacity: .4;
            }
            &__inner {
              p {
                &:nth-child(1) {
                  margin-bottom: vw(16);
                  @include fontvw(24);
                }
                &:nth-child(2) {
                  @include fontvw(16);
                }
              }
            }
          }
          .wrapper {
            // height: 100%;
            // height: calc( 100vh - rem(80));
            &-poster {
              opacity: 0;
              will-change: opacity;
            }
            &-poster {
              transition: opacity 1.5s $Power1easeOut ($delay + 5 + 1 + s);
              picture {
                display: block;
                img {
                  will-change: filter;
                  transition: filter 1.5s $Power1easeOut ($delay + 5 + 1 + .5 + s);
                  will-change: filter;
                  transition: filter 1.5s $Power1easeOut ($delay + 5 + 1 + .5 + s);
                }
              }
            }
            &-content {
              padding-top: vw(48);
              .main {
                .date {
                  margin-bottom: vw(36);
                  @include fontvw(22);
                }
                h1 {
                  margin-bottom: vw(32);
                  img {
                    height: vw(65);
                    width: auto;
                    max-width: inherit;
                  }
                }
                .credit {
                  margin-bottom: vw(14);
                  .flex {
                    &:nth-child(1) {
                      margin-bottom: vw(12);
                    }
                  }
                  p {
                    @include fontvw(24);
                    &:nth-child(1) {
                      margin-right: vw(24);
                    }
                  }
                }
                .info {
                  margin-bottom: vw(40);
                  .flex {
                    margin-top: vw(8);
                    p {
                      &:nth-child(1) {
                        margin-right: vw(24);
                      }
                    }
                  }
                  p {
                    @include fontvw(13);
                  }
                }
              }
              .trailor {
                margin: 0 auto vw(60);
                width: vw(294);
                &-video {
                  box-shadow: 0 vw(10) vw(30) 0 rgba(0, 0, 0, 0.3);
                  will-change: box-shadow, transform;
                  transition: box-shadow 1s $Power1easeOut, transform .5s $Power3easeOut;
                  &:active {
                    transform: scale(calc(336/320 * 100%));
                    box-shadow: 0 0 0 0 rgba(0, 0, 0, 0);
                    .trailor-play {
                      transform: translate3d(-50%, -50%, 0) scale(calc( 80 / 64)); 
                      background-color: $light
                    }
                  }
                }
                &-play {
                  @include fitcenter();
                  height: vw(64);
                  width: vw(64);
                  border-radius: 100%;
                  background-color: rgba(255, 255, 255, .4);
                  will-change: background-color, transform;
                  transition: background-color 1s $Power1easeOut, transform .5s $Power3easeOut;
                  &::before {
                    content: '';
                    width: 0;
                    height: 0;
                    border-style: solid;
                    border-top: vw(7) solid transparent;
                    border-bottom: vw(7) solid transparent;
                    border-left: vw(10) solid #d69693;
                    border-right: 0;
                  }
                }
                &-title {
                  right: vw(-28);
                  @include fontvw(12);
                  writing-mode: vertical-lr;
                }
              }
            }
            &-nav {
              margin-bottom: vw(84);
              nav {
                &.active {
                  li {
                    opacity: 1;
                    transform: translate3d(0, 0, 0);
                  }
                }
                p {
                  margin: 0 auto vw(20);
                  @include fontvw(12);
                }
                li {
                  margin-right: vw(12);
                  opacity: 0;
                  transform: translate3d(0, vw(10), 0);
                  &:nth-child(1) {
                    transition: transform 1s $Power3easeOut, opacity 1s $Power1easeOut;
                  }
                  &:nth-child(2) {
                    transition: transform 1s $Power3easeOut .1s, opacity 1s $Power1easeOut .1s;
                  }
                  &:nth-child(3) {
                    transition: transform 1s $Power3easeOut .2s, opacity 1s $Power1easeOut .2s;
                  }
                  &:last-child {
                    margin-bottom: 0;
                  }
                  a {
                    @include fitcenter();
                    height: vw(40);
                    width: vw(40);
                    background-color: rgba(0,0,0,.4);
                    border-radius: 100%;
                    will-change: background-color;
                    transition: background-color .5s $Power1easeOut;
                    &:active {
                      background-color: $light;
                      svg * {
                        fill: $pink;
                      }
                    }
                    svg {
                      height: vw(15);
                      width: auto;
                      * {
                        will-change: fill;
                        transition: fill .5s $Power1easeOut;
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  }
}

@media screen and (min-width: 750px) {
  body {
    background-color: $lightPink;
  }
  #root {
    $intro: 3;
    $delay: 2;
    &.loaded {
      main section#teaser {
        .news-icon {
          animation: icon .7s ease ($delay + 5 + 1 + 1 + 1 + s) forwards;
        }
        .wrapper {
          &-poster, &-content, &-nav {
            opacity: 1;
          }
          &-poster {
            img {
              filter: blur(0);
            }
          }
        }
      }
      .intro {
        opacity: 0;
        visibility: hidden;
        background-color: $lightPink;
        z-index: 100;
        &__inner {
          opacity: 0;
          .line {
            clip-path: polygon(0 0, 100% 0, 100% 100%, 0% 100%);
            .visible {
              filter: blur(0);
              opacity: 1;
            }
          }
        }
      }
    }
    .intro {
      @include fitcenter();
      will-change: background-color, opacity;
      transition: background-color ($intro + s) $Power1easeOut, opacity 1s $Power1easeOut ($delay + 5 + 1 + s), visibility 0s $Power1easeOut ($delay + 5 + 1 + 1 + s);
      &__inner {
        will-change: opacity;
        transition: opacity 1.5s $Power1easeOut ($delay + 3 + 1.5 + s);
        .line {
          top: rem(-20);
          padding: rem(20);
          display: inline-block;
          width: rem(60);
          margin-right: rem(-22);
          clip-path: polygon(0 0, 100% 0, 100% 0, 0 0);
          will-change: clip-path, filter;
          $clipDelay: 1.5;
          &:nth-child(1) {
            transition: clip-path (((367 / 175)-1) + s) $Power1easeOut ($delay + s);
            .visible {
              transition: filter (((367 / 175)-1) + .5 + s) $Power1easeOut ($delay + s);
            }
          }
          &:nth-child(2) {
            transition: clip-path ($clipDelay + s) $Power1easeOut ($delay + ((367 / 175)-1) + .1 + s);
            .visible {
              transition: filter ($clipDelay + .5 + s) $Power1easeOut ($delay + ((367 / 175)-1) + .1 + s);
            }
          }
          &:first-child {
            margin-right: 0;
          }
        }
        .visible {
          padding: rem(20);
          opacity: 0;
          filter: blur(rem(5));
        }
        img {
          width: rem(30);
          max-width: initial;
        }
      }
    }
    .modal {
      background: rgb(255, 245, 238);      
      opacity: 0;
      visibility: hidden;
      will-change: opacity;
      transition: opacity 1s $Power1easeOut .3s, visibility 0s 1.3s;
      z-index: 100;
      &.active {
        opacity: 1;
        visibility: visible;
        transition: opacity 1s $Power1easeOut, visibility 0s 0s;
        .modal__inner {
          .video {
            opacity: 1;
            transition: opacity 1s $Power1easeOut .3s;
          }
          .modal-close {
            opacity: 1;;
            transition: background-color .5s $Power1easeOut, opacity .5s $Power1easeOut 1s;
          }
        }
      }
      &::before {
        @include center();
        content: '';
        background-color: rgba(255, 255, 255, .2);
      }
      &__inner {
        @include fitcenter();
        z-index: 1;
        .video {
          height: calc( 100vh - ( rem(65) * 2 ));
          width: calc( 1207 / 1440 * 100%);
          opacity: 0;
          will-change: opacity;
          transition: opacity 1s $Power1easeOut;
          iframe {
            height: 100%;
            width: 100%;
          }
        }
      }
      &-close {
        @include fitcenter();
        opacity: 0;
        top: rem(16);
        right: rem(16);
        height: rem(48);
        width: rem(48);
        border-radius: 100%;
        background-color: $pink;
        will-change: background-color, opacity;
        transition: background-color .5s $Power1easeOut, opacity .5s $Power1easeOut;
        &:hover {
          background-color: $light;
          svg * {
            stroke: $pink;
          }
        }
        svg {
          width: rem(24);
          * {
            will-change: stroke;
            transition: stroke .5s $Power1easeOut;
          } 
        }
      }
    }
    .section {
      &__inner {
        // width: calc( 1220 / 1440 * 100%);
        // max-width: rem(1220);
      }
    }
    .copyright {
      bottom: rem(14);
      @include fontsize(10);
      z-index: 100;
    }
    .shochiku-footer {
      right: rem(48);
      bottom: rem(14);
      @include fontsize(10);
      ul {
        li {
          &::after {
            margin: 0 rem(20);
            content: '|';
          }
          &:last-child {
            &::after {
              display: none;
            }
          }
          a {
            text-decoration: underline;
          }
        }
      }
    }
    main {
      section {
        &#teaser {
          .news-icon {
            top: rem(32);
            right: rem(32);
            height: rem(126);
            width: rem(126);
            transform: scale(0);
            will-change: transform
            // transition: transform .5s $easeInOutBack ($delay + 5 + 1 + .5 + + 1 + s);
          }
          .news {
            @include fitcenter();
            height: 100%;
            width: 100%;
            border-radius: 100%;
            box-shadow: 0 rem(5) rem(10) 0 rgba(0, 0, 0, 0.2);
            will-change: box-shadow, transform;
            transition: box-shadow .5s $Power1easeOut, transform .5s $Power3easeOut;
            &:hover {
              transform: scale(calc(126/120 * 100%));
              box-shadow: 0 0 0 0 rgba(0, 0, 0, 0);
            }
            &::before {
              @include center();
              height: 100%;
              width: 100%;
              border-radius: 100%;
              content: '';
              background: linear-gradient(to bottom, rgba(33, 87, 161, .4), rgba(139, 173, 213,.4), rgba(202, 81, 158,.4));
              // opacity: .4;
            }
            &__inner {
              p {
                &:nth-child(1) {
                  margin-bottom: rem(16);
                  @include fontsize(24);
                }
                &:nth-child(2) {
                  @include fontsize(16);
                }
              }
            }
          }
          .wrapper {
            // height: 100%;
            height: calc( 100vh - rem(80));
            &-poster, &-nav, &-content {
              opacity: 0;
              will-change: opacity;
            }
            &-poster {
              // padding-right: rem(100);
              border-left: solid rem(40)transparent;
              border-right: solid rem(40)transparent;
              transition: opacity 2s $Power1easeOut ($delay + 5 + 1 + s);
              picture, img {
                max-height: 100%;
                max-width: initial;
                width: 100%;
                height: 100%;
                display: block;
              }
              img {
                object-fit: contain;
                object-position: center;
                filter: blur(rem(10));
                will-change: filter;
                transition: filter 1.5s $Power1easeOut ($delay + 5 + 1 + .5 + s);
              }
            }
            &-content {
              padding-bottom: rem(180);
              transition: opacity 1.5s $Power1easeOut ($delay + 5 + 1 + .5 + s);
              .main {
                margin-top: calc( 160 / 810 * 100vh);
                .date {
                  margin-bottom: rem(48);
                  @include fontsize(28);
                }
                h1 {
                  margin-bottom: rem(32);
                  img {
                    height: rem(88);
                    width: auto;
                    max-width: inherit;
                  }
                }
                .credit {
                  margin-bottom: rem(14);
                  .flex {
                    &:nth-child(1) {
                      margin-bottom: rem(12);
                    }
                  }
                  p {
                    @include fontsize(24);
                    &:nth-child(1) {
                      margin-right: rem(24);
                    }
                  }
                }
                .info {
                  .flex {
                    margin-top: rem(8);
                    p {
                      &:nth-child(1) {
                        margin-right: rem(24);
                      }
                    }
                  }
                  p {
                    @include fontsize(13);
                  }
                }
              }
              .trailor {
                right: rem(48);
                bottom: 0;
                width: rem(320);
                &-video {
                  box-shadow: 0 rem(10) rem(30) 0 rgba(0, 0, 0, 0.3);
                  will-change: box-shadow, transform;
                  transition: box-shadow 1s $Power1easeOut, transform .5s $Power3easeOut;
                  &:hover {
                    transform: scale(calc(336/320 * 100%));
                    box-shadow: 0 0 0 0 rgba(0, 0, 0, 0);
                    .trailor-play {
                      transform: translate3d(-50%, -50%, 0) scale(calc( 80 / 64)); 
                      background-color: $light
                    }
                  }
                }
                &-play {
                  @include fitcenter();
                  height: rem(64);
                  width: rem(64);
                  border-radius: 100%;
                  background-color: rgba(255, 255, 255, .4);
                  will-change: background-color, transform;
                  transition: background-color 1s $Power1easeOut, transform .5s $Power3easeOut;
                  &::before {
                    content: '';
                    width: 0;
                    height: 0;
                    border-style: solid;
                    border-top: rem(7) solid transparent;
                    border-bottom: rem(7) solid transparent;
                    border-left: rem(10) solid #d69693;
                    border-right: 0;
                  }
                }
                &-title {
                  left: rem(-28);
                  @include fontsize(12);
                  writing-mode: vertical-lr;
                }
              }
            }
            &-nav {
              transition: opacity 1.5s $Power1easeOut ($delay + 5 + 1 + .5 + s);
              nav {
                p {
                  margin: 0 auto rem(12);
                  @include fontsize(12);
                  writing-mode: vertical-lr;
                }
                li {
                  margin-bottom: rem(12);
                  &:last-child {
                    margin-bottom: 0;
                  }
                  a {
                    @include fitcenter();
                    height: rem(32);
                    width: rem(32);
                    background-color: rgba(0,0,0,.4);
                    border-radius: 100%;
                    will-change: background-color;
                    transition: background-color .5s $Power1easeOut;
                    &:hover {
                      background-color: $light;
                      svg * {
                        fill: $pink;
                      }
                    }
                    svg {
                      height: rem(20);
                      width: auto;
                      * {
                        will-change: fill;
                        transition: fill .5s $Power1easeOut;
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  }
}

@media screen and (min-width: 750px) and (max-height: 780px) {
  #root {
    main {
      section {
        &#teaser {
          .news-icon {
            .news {
              transform: scale(0.65);
              transform-origin: top;  
            }
          }
          .wrapper {
            $ratio: .8;
            &-content {
              padding-bottom: calc( 60 / 810 * 100vh + (rem(180) * $ratio));
              .main {
                margin-top: auto;
                .date {
                  margin-bottom: calc( rem(48) * $ratio );
                  @include fontsize((28 * $ratio));
                }
                h1 {
                  margin-bottom: calc( rem(48) * $ratio );
                  img {
                    height: calc( rem(88) * $ratio );
                  }
                }
                .credit {
                  margin-bottom: calc( rem(14) * $ratio );
                  .flex {
                    &:nth-child(1) {
                      margin-bottom: calc( rem(12) * $ratio );
                    }
                  }
                  p {
                    @include fontsize((24 * $ratio));
                    &:nth-child(1) {
                      margin-right: calc( rem(24) * $ratio );
                    }
                  }
                }
                .info {
                  .flex {
                    margin-top: calc( rem(8) * $ratio );
                  }
                  p {
                    @include fontsize((13 * $ratio));
                  }
                }
              }
              .trailor {
                right: calc( rem(48) * $ratio );
                width: calc( rem(320) * $ratio );
                &-video {
                  box-shadow: 0 calc( rem(10) * $ratio ) calc( rem(30) * $ratio ) 0 rgba(0, 0, 0, 0.3);
                }
                &-play {
                  height: calc( rem(64) * $ratio );
                  width: calc( rem(64) * $ratio );
                  &::before {
                    border-top: calc( rem(7) * $ratio ) solid transparent;
                    border-bottom: calc( rem(7) * $ratio ) solid transparent;
                    border-left: calc( rem(10) * $ratio ) solid #d69693;
                  }
                }
                &-title {
                  left: calc( rem(-28) * $ratio );
                  @include fontsize((12 * $ratio));
                }
              }
            }
          }
        }
      }
    }
  }
}